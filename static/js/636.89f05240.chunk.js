(self.webpackChunknutrition_ai_consultant=self.webpackChunknutrition_ai_consultant||[]).push([[636],{22629:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return ge}});var t=r(72791),a=r(61889),o=r(64554),l=r(40854),s=r(1413),i=r(74165),c=r(15861),u=r(29439),d=r(2919),m=r(27247),h=r(41286),x=r(3579),Z=r(36151),p=r(39504),g=r(13400),j=r(40986),_=r(35527),f=r(36314),v=r(89891),y=r(20890),b=r(763),C=r(81405),w=r(57689),P=r(75985),N=r(61865),k=r(75099),D=r(52260),I=r(70810),O=r(85823),T=r(62328),R=r(5712),S=r(94454),q=r(97123),A=r(39157),E=r(68096),F=r(85523),L=r(79012),V=r(47071),M=r(17133),U=r(30829),B=r(23786),W=r(88970),H=r(54535),G=r(48550),Y=r(21795),J=r(81724),K=r(45823),z=r(95414),Q=(r(2665),r(84701)),X=r(98137),$=r(73974),ee=(r(60205),r(12017)),ne=r(80184),re=[{label:(0,z.Z)("common_weekly")},{label:(0,z.Z)("common_biweekly")},{label:(0,z.Z)("common_monthly")}],te=function(e){var n=e.open,r=e.onClose,l=e.dialogData,u=(0,C.I0)(),d=(0,C.v9)((function(e){return e.common.currencyList})),m=(0,C.v9)((function(e){return e.servicePlan.serviceTypes})),h=(0,b.get)(m,"serviceTypeOnline",!1),x=(0,b.get)(m,"serviceTypeOffline",!1),p=(0,b.get)(m,"serviceTypePhone",!1),g=h||x||p;(0,t.useEffect)((function(){u((0,K.SM)())}),[u]);var j=J.Ry().shape({planName:J.Z_().min(5,(0,z.Z)("consultant_error_service_plan_name_too_short")).max(50,(0,z.Z)("consultant_error_service_plan_name_too_long")).required((0,z.Z)("consultant_error_service_plan_name_required")),numberOfConsultant:J.Rx().required((0,z.Z)("consultant_error_number_of_consultation_required")),sessionName:J.Z_().when("numberOfConsultant",{is:function(e){return 1!==e},then:J.Z_().required((0,z.Z)("common_error_consultant_session_required")),otherwise:J.Z_()}),timeUnit:J.Rx().required((0,z.Z)("common_error_time_duration_required")),dietPlan:J.O7().required((0,z.Z)("common_error_diet_plan_required")),currencyId:J.Ry().required((0,z.Z)("consultant_error_currency_type_required")),amount:J.Rx().required((0,z.Z)("consultant_error_amount_required")),details:J.Z_().required((0,z.Z)("consultant_error_description_required"))}),_=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.currencyId=(0,b.get)(n,"currencyId._id",""),console.log(n,"payload"),"update"===(0,b.get)(l,"formType")&&(n._id=(0,b.get)(l,"rowData._id")),e.next=5,u((0,N.kI)(n)).unwrap().then((function(e){e.status&&(u((0,N.t4)()),r(),P.Am.success(e.message))})).catch((function(e){console.log(" handleAddServicePlan err",e)}));case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,ne.jsx)(ne.Fragment,{children:(0,ne.jsx)($.ZP,{anchor:"right",variant:"temporary",open:n,onClose:r,children:(0,ne.jsxs)("div",{className:"service-plan-add-container",children:[(0,ne.jsxs)("div",{className:"service-plan-add-header",children:[(0,ne.jsx)(Z.Z,{onClick:r,children:(0,ne.jsx)(ee.Z,{})}),(0,ne.jsx)("h2",{children:(0,z.Z)("consultant_add_service_plan")})]}),(0,ne.jsx)(Y.J9,{initialValues:{planName:(0,b.get)(l,"rowData.planName",""),numberOfConsultant:(0,b.get)(l,"rowData.numberOfConsultant",""),sessionName:(0,b.get)(l,"rowData.sessionName",""),onlineConsultation:(0,b.get)(l,"rowData.onlineConsultation",!1),offlineConsultation:(0,b.get)(l,"rowData.offlineConsultation",!1),phoneConsultation:(0,b.get)(l,"rowData.phoneConsultation",!1),currencyId:(0,b.get)(l,"rowData.currencyId",""),amount:(0,b.get)(l,"rowData.amount",""),timeUnit:(0,b.get)(l,"rowData.timeUnit",30),dietPlan:(0,b.get)(l,"rowData.dietPlan",!0),details:(0,b.get)(l,"rowData.details","")},validationSchema:j,onSubmit:function(e){console.log("Values===",e);var n=e.onlineConsultation||e.phoneConsultation||e.offlineConsultation;g?n?_(e):P.Am.error("Required select on service type",{autoClose:!1}):P.Am.error("Please Setup Your Profile First Then Create Service Plan",{autoClose:!1})},children:function(e){return(0,ne.jsxs)("form",{onSubmit:e.handleSubmit,className:"d-flex flex-column overflow-auto",children:[(0,ne.jsx)(A.Z,{dividers:!0,children:(0,ne.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,ne.jsx)(a.ZP,{item:!0,xs:12,container:!0,children:(0,ne.jsx)(a.ZP,{item:!0,xs:12,sm:9.9,md:7.9,children:(0,ne.jsx)(G.Z,{label:(0,z.Z)("consultant_service_plan_name"),variant:"outlined",name:"planName",value:e.values.planName,onChange:e.handleChange,onBlur:e.handleBlur,error:!(!e.errors.planName||!e.touched.planName),helperText:e.errors.planName&&e.touched.planName?e.errors.planName:null})})}),(0,ne.jsxs)(a.ZP,{item:!0,xs:12,container:!0,spacing:2,children:[(0,ne.jsx)(a.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,ne.jsx)(G.Z,{label:(0,z.Z)("consultant_number_of_consultation"),variant:"outlined",name:"numberOfConsultant",value:e.values.numberOfConsultant,onChange:e.handleChange,onBlur:e.handleBlur,error:!(!e.errors.numberOfConsultant||!e.touched.numberOfConsultant),helperText:e.errors.numberOfConsultant&&e.touched.numberOfConsultant?e.errors.numberOfConsultant:null})}),console.log(e.values.numberOfConsultant,"233"),(0,ne.jsx)(a.ZP,{item:!0,md:4,sm:6,xs:12,children:(0,ne.jsxs)(E.Z,{fullWidth:!0,children:[(0,ne.jsx)(U.Z,{id:"demo-simple-select-label",children:(0,z.Z)("consultant_consultant_sessions")}),(0,ne.jsx)(H.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"sessionName",value:e.values.sessionName,label:(0,z.Z)("consultant_consultant_sessions"),onChange:e.handleChange,disabled:1===parseInt(e.values.numberOfConsultant,10),children:(0,b.map)(re,(function(e,n){return(0,ne.jsx)(B.Z,{value:e.label,children:e.label},n)}))}),e.errors.sessionName&&e.touched.sessionName?(0,ne.jsx)(V.Z,{error:!0,children:e.errors.sessionName}):null]})}),(0,ne.jsx)(a.ZP,{item:!0,xs:12,md:5,children:(0,ne.jsxs)(E.Z,{component:"fieldset",variant:"standard",children:[(0,ne.jsx)(M.Z,{children:(0,z.Z)("consultant_consultation_type")}),(0,ne.jsxs)(L.Z,{row:!0,children:[(0,ne.jsx)(F.Z,{value:"online",control:(0,ne.jsx)(S.Z,{name:"onlineConsultation",checked:e.values.onlineConsultation,onChange:e.handleChange}),disabled:!h,label:(0,z.Z)("common_online")}),(0,ne.jsx)(F.Z,{control:(0,ne.jsx)(S.Z,{name:"offlineConsultation",checked:e.values.offlineConsultation,onChange:e.handleChange}),disabled:!x,label:(0,z.Z)("common_offline")}),(0,ne.jsx)(F.Z,{control:(0,ne.jsx)(S.Z,{name:"phoneConsultation",checked:e.values.phoneConsultation,onChange:e.handleChange}),disabled:!p,label:(0,z.Z)("common_phone")})]}),e.errors.onlineConsultation&&e.touched.onlineConsultation&&(0,ne.jsx)(V.Z,{error:!0,children:"Type is Required"})]})})]}),(0,ne.jsx)(a.ZP,{item:!0,sm:4,md:3,xs:12,children:(0,ne.jsx)(R.Z,{getOptionLabel:function(e){return(0,b.isEmpty)(e)?"":e.currency},options:d,name:"currencyId",value:e.values.currencyId,isOptionEqualToValue:function(e,n){if(""===n||e._id===n._id)return!0},onChange:function(n,r){e.setFieldValue("currencyId",r)},disablePortal:!0,autoHighlight:!0,disableClearable:!0,noOptionsText:(0,z.Z)("common_no_data"),popupIcon:(0,ne.jsx)(T.Z,{}),renderOption:function(e,n){return(0,ne.jsxs)(o.Z,(0,s.Z)((0,s.Z)({component:"li",sx:{"& > img":{mr:1,flexShrink:0}}},e),{},{children:[(0,ne.jsx)(o.Z,{component:"span",mr:1,children:n.currency}),n.currencySymbol]}),n._id)},renderInput:function(n){return(0,ne.jsx)(G.Z,(0,s.Z)((0,s.Z)({},n),{},{label:(0,z.Z)("consultant_currency_type"),name:"currencyId",error:!(!e.errors.currencyId||!e.touched.currencyId),helperText:e.errors.currencyId&&e.touched.currencyId?e.errors.currencyId:null}))}})}),(0,ne.jsx)(a.ZP,{item:!0,sm:6,md:5,xs:12,children:(0,ne.jsx)(G.Z,{label:(0,z.Z)("consultant_amount"),variant:"outlined",name:"amount",value:e.values.amount,onChange:e.handleChange,onBlur:e.handleBlur,inputProps:{type:"number"},error:!(!e.errors.amount||!e.touched.amount),helperText:e.errors.amount&&e.touched.amount?e.errors.amount:null})}),(0,ne.jsx)(a.ZP,{item:!0,xs:12,sm:6,children:(0,ne.jsxs)(E.Z,{fullWidth:!0,children:[(0,ne.jsx)(M.Z,{htmlFor:"weight",className:"mb-1",children:(0,z.Z)("consultant_time_duration")}),(0,ne.jsxs)(W.Z,{name:"timeUnit",value:e.values.timeUnit,onChange:function(n,r){e.setFieldValue("timeUnit",r)},row:!0,sx:{marginLeft:"10px",marginTop:"10px"},children:[(0,ne.jsx)(F.Z,{value:30,control:(0,ne.jsx)(X.Z,{}),label:"30 "+(0,z.Z)("common_time_length_minute")}),(0,ne.jsx)(F.Z,{value:45,control:(0,ne.jsx)(X.Z,{}),label:"45 "+(0,z.Z)("common_time_length_minute")}),(0,ne.jsx)(F.Z,{value:60,control:(0,ne.jsx)(X.Z,{}),label:"1 "+(0,z.Z)("common_time_length_hour")})]})]})}),(0,ne.jsxs)(a.ZP,{item:!0,xs:12,sm:6,children:[(0,ne.jsx)(E.Z,{fullWidth:!0,children:(0,ne.jsx)(M.Z,{htmlFor:"weight",className:"mb-1",children:(0,z.Z)("common_diet_plan")})}),(0,ne.jsx)(E.Z,{fullWidth:!0,children:(0,ne.jsxs)(W.Z,{name:"dietPlan",value:e.values.dietPlan,onChange:function(n,r){e.setFieldValue("dietPlan",r)},row:!0,sx:{marginLeft:"10px",marginTop:"10px"},children:[(0,ne.jsx)(F.Z,{value:!0,control:(0,ne.jsx)(X.Z,{}),label:(0,z.Z)("common_type_yes")}),(0,ne.jsx)(F.Z,{value:!1,control:(0,ne.jsx)(X.Z,{}),label:(0,z.Z)("common_type_no")})]})})]}),(0,ne.jsx)(a.ZP,{item:!0,xs:12,children:(0,ne.jsx)(Q.Z,{name:"details",value:e.values.details,setFieldValue:e.setFieldValue,error:!(!e.errors.details||!e.touched.details),helperText:e.errors.details&&e.touched.details?e.errors.details:null})})]})}),(0,ne.jsx)(q.Z,{children:(0,ne.jsx)(Z.Z,{variant:"contained",type:"submit",children:(0,z.Z)("common_add")})})]})}})]})})})},ae=(r(37762),r(81918)),oe=r(72426),le=r.n(oe),se=(r(34867),function(e){var n,r,l,s=e.open,i=e.onClose,c=e.dialogData,d=(0,b.get)(c,"rowData.details",""),m=(0,t.useState)(!1),h=(0,u.Z)(m,2),x=h[0],p=h[1];return(0,ne.jsx)(ne.Fragment,{children:(0,ne.jsxs)($.ZP,{anchor:"right",open:s,onClose:i,className:"plan-details-design",children:[(0,ne.jsxs)("div",{className:"service-plan-add-header",children:[(0,ne.jsx)(Z.Z,{onClick:i,children:(0,ne.jsx)(ee.Z,{})}),(0,ne.jsx)("h2",{children:"Plan Details"})]}),(0,ne.jsx)("div",{style:{width:"100%",height:"2px",backgroundColor:"#0000001f"}}),(0,ne.jsx)("div",{className:"plan_details drawer-content",children:(0,ne.jsx)(a.ZP,{container:!0,spacing:2,children:(0,ne.jsx)(a.ZP,{item:!0,xs:12,sm:12,children:(0,ne.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,ne.jsxs)(a.ZP,{item:!0,xs:5,md:5,children:[(0,ne.jsx)(y.Z,{variant:"subtitle1",color:"text.primary",children:"Plan Name"}),(0,ne.jsx)(y.Z,{variant:"body1",children:(0,b.get)(c,"rowData.planName","")})]}),(0,ne.jsxs)(a.ZP,{item:!0,xs:4,md:4,children:[(0,ne.jsx)(y.Z,{variant:"subtitle1",color:"text.primary",children:"Consultation Sessions"}),(0,ne.jsx)(o.Z,{children:(0,ne.jsx)(ae.Z,{label:(0,b.get)(c,"rowData.sessionName",""),sx:{backgroundColor:"secondary.lighter",color:"secondary.dark"}})})]}),(0,ne.jsxs)(a.ZP,{item:!0,xs:3,md:3,children:[(0,ne.jsx)(y.Z,{variant:"subtitle1",color:"text.primary",children:"Duration"}),(0,ne.jsxs)(y.Z,{variant:"body1",children:[(0,b.get)(c,"rowData.timeUnit","")," Min"]})]}),(0,ne.jsxs)(a.ZP,{item:!0,xs:5,md:5,children:[(0,ne.jsx)(y.Z,{variant:"subtitle1",color:"text.primary",children:"Post Consultation plan (included)"}),(0,ne.jsx)(ae.Z,{label:(0,b.get)(c,"rowData.dietPlan",!1)?"Yes":"No",sx:{border:"1px solid",backgroundColor:"transparent",borderColor:"secondary.main",color:"secondary.main"}})]}),(0,ne.jsxs)(a.ZP,{item:!0,xs:4,md:4,children:[(0,ne.jsx)(y.Z,{variant:"subtitle1",color:"text.primary",children:"Service Charges"}),(0,ne.jsxs)(y.Z,{variant:"body1",children:[(0,b.get)(c,"rowData.amount","")," ",(0,b.get)(c,"rowData.currencyId.currencySymbol","")]})]}),(0,ne.jsxs)(a.ZP,{item:!0,xs:3,md:3,children:[(0,ne.jsx)(y.Z,{variant:"subtitle1",color:"text.primary",children:"Number of Consultant"}),(0,ne.jsx)(y.Z,{variant:"body1",children:(0,b.get)(c,"rowData.numberOfConsultant","")})]}),(0,ne.jsxs)(a.ZP,{item:!0,xs:5,md:5,children:[(0,ne.jsx)(y.Z,{variant:"subtitle1",color:"text.primary",children:"Consultation Type"}),(0,ne.jsxs)(y.Z,{variant:"body1",style:{display:"flex",flexDirection:"row"},children:[(null===c||void 0===c||null===(n=c.rowData)||void 0===n?void 0:n.onlineConsultation)&&(0,ne.jsx)(o.Z,{children:(0,ne.jsx)(ae.Z,{label:"Online",sx:{backgroundColor:"secondary.lighter",color:"secondary.dark",marginRight:"6px"}})}),(null===c||void 0===c||null===(r=c.rowData)||void 0===r?void 0:r.offlineConsultation)&&(0,ne.jsx)(o.Z,{children:(0,ne.jsx)(ae.Z,{label:"Offline",sx:{backgroundColor:"secondary.lighter",color:"secondary.dark",marginRight:"6px"}})}),(null===c||void 0===c||null===(l=c.rowData)||void 0===l?void 0:l.phoneConsultation)&&(0,ne.jsx)(o.Z,{children:(0,ne.jsx)(ae.Z,{label:"Phone",sx:{backgroundColor:"secondary.lighter",color:"secondary.dark",marginRight:"6px"}})})]})]}),(0,ne.jsxs)(a.ZP,{item:!0,xs:4,md:4,children:[(0,ne.jsx)(y.Z,{variant:"subtitle1",color:"text.primary",children:"Created Date"}),(0,ne.jsx)(o.Z,{children:(0,ne.jsx)(ae.Z,{label:(0,b.isEmpty)((0,b.get)(c,"rowData.createDate",""))?"Date Not Found":le()(c.rowData.createDate).format("LL"),sx:{backgroundColor:"secondary.lighter",color:"secondary.dark"}})})]}),(0,ne.jsxs)(a.ZP,{item:!0,xs:3,md:3,children:[(0,ne.jsx)(y.Z,{variant:"subtitle1",color:"text.primary",children:"Last Update Date"}),(0,ne.jsx)(o.Z,{children:(0,ne.jsx)(ae.Z,{label:(0,b.isEmpty)((0,b.get)(c,"rowData.updateDate",""))?"Not Updated":le()(c.rowData.updateDate).format("LL"),sx:{backgroundColor:"secondary.lighter",color:"secondary.dark"}})})]}),(0,ne.jsxs)(a.ZP,{item:!0,xs:12,md:12,children:[(0,ne.jsx)(y.Z,{variant:"subtitle1",color:"text.primary",children:"Details"}),(0,ne.jsx)("div",{dangerouslySetInnerHTML:{__html:x?d&&d:(d&&d).split(" ").slice(0,94).join(" ")}}),(d&&d).split("").length>94&&(0,ne.jsx)("div",{children:x?(0,ne.jsx)(Z.Z,{onClick:function(){return p(!1)},children:"Read Less"}):(0,ne.jsx)(Z.Z,{onClick:function(){return p(!0)},children:"Read More"})})]})]})})})})]})})}),ie=r(93704),ce=r(63466),ue=r(61419),de=r(32416),me=function(e){var n=e.open,r=e.onClose,t=e.type,o=(0,C.I0)(),l=(0,C.v9)((function(e){return e.servicePlan.refundPolicy})),i=(0,(0,de.Z)().GetLanguageList)(),c=J.Ry().shape({content:J.Z_().required((0,z.Z)("consultant_error_terms_and_policy_required")),language:J.Ry().shape().required((0,z.Z)("consultant_error_languages_required")).nullable(),refundMethod:J.Z_().required((0,z.Z)("common_error_required")),percentage:J.Rx().when("refundMethod",{is:function(e){return"PRO_RATE_CANCEL_CHARGE"===e},then:J.Rx().min(0,(0,z.Z)("consultant_error_minimum_value_0")).max(100,(0,z.Z)("consultant_error_maximum_value_100")).positive((0,z.Z)("consultant_error_enter_positive_number")).required((0,z.Z)("consultant_error_percentage_required")),otherwise:J.Rx().notRequired()})});return(0,ne.jsx)(ne.Fragment,{children:(0,ne.jsxs)($.ZP,{anchor:"right",open:n,onClose:r,className:"terms-details-design",children:[(0,ne.jsx)("div",{className:"back-icon-common",children:(0,ne.jsx)(Z.Z,{onClick:r,children:(0,ne.jsx)(ee.Z,{})})}),(0,ne.jsx)(Y.J9,{initialValues:{content:(0,b.get)(l,"content",""),refundMethod:(0,b.get)(l,"refundMethod","PRO_RATE"),percentage:(0,b.get)(l,"percentage",0),language:(0,b.get)(l,"language","")},validationSchema:c,onSubmit:function(e){console.log("Values===",e),function(e){var n,a,i;console.log(null===e||void 0===e||null===(n=e.language)||void 0===n?void 0:n._id,"63");var c="edit"===t?(0,s.Z)((0,s.Z)({},e),{},{_id:l._id,language:null===e||void 0===e||null===(a=e.language)||void 0===a?void 0:a._id}):(0,s.Z)((0,s.Z)({},e),{},{language:null===e||void 0===e||null===(i=e.language)||void 0===i?void 0:i._id});o((0,N.dt)(c)).unwrap().then((function(e){(0,b.get)(e,"status",!1)?(P.Am.success(e.message),o((0,N.dl)()),r()):P.Am.error(e.message)})).catch((function(e){console.log(e)}))}(e)},children:function(e){return(0,ne.jsxs)("form",{onSubmit:e.handleSubmit,className:"d-flex flex-column overflow-auto",children:[(0,ne.jsx)(A.Z,{dividers:!0,children:(0,ne.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,ne.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,ne.jsx)(y.Z,{variant:"h5",className:"mb-2",children:(0,z.Z)("consultant_terms_and_policy")}),(0,ne.jsx)(Q.Z,{name:"content",value:e.values.content,setFieldValue:e.setFieldValue,error:!(!e.errors.content||!e.touched.content),helperText:e.errors.content&&e.touched.content?e.errors.content:null})]}),(0,ne.jsx)(a.ZP,{item:!0,xs:12,children:(0,ne.jsxs)(E.Z,{fullWidth:!0,children:[(0,ne.jsx)(M.Z,{htmlFor:"language",className:"mb-2",children:(0,z.Z)("common_language")}),(0,ne.jsx)(R.Z,{getOptionLabel:function(e){var n;return null!==(n=e.title)&&void 0!==n?n:""},options:i,name:"language",value:"string"===typeof e.values.language?i.find((function(n){return n._id===e.values.language})):e.values.language,isOptionEqualToValue:function(e,n){if(""===n||e._id===n._id)return!0},onChange:function(n,r){e.setFieldValue("language",r)},onBlur:e.handleBlur,disablePortal:!0,autoHighlight:!0,disableClearable:!0,noOptionsText:(0,z.Z)("common_no_data"),popupIcon:(0,ne.jsx)(T.Z,{}),renderInput:function(n){return(0,ne.jsx)(G.Z,(0,s.Z)((0,s.Z)({},n),{},{placeholder:(0,z.Z)("consultant_select_language"),name:"language",error:!(!e.errors.language||!e.touched.language),helperText:e.errors.language&&e.touched.language?e.errors.language:null}))}})]})}),(0,ne.jsx)(a.ZP,{item:!0,xs:12,sm:6,children:(0,ne.jsxs)(E.Z,{fullWidth:!0,children:[(0,ne.jsx)(M.Z,{className:"mb-1",children:(0,z.Z)("consultant_refund_method")}),(0,ne.jsxs)(W.Z,{name:"refundMethod",value:e.values.refundMethod,onChange:function(n,r){e.setFieldValue("refundMethod",r),e.setFieldValue("percentage",0)},row:!0,children:[(0,ne.jsx)(F.Z,{value:"PRO_RATE",control:(0,ne.jsx)(ue.Z,{}),label:(0,z.Z)("consultant_only_pro_rate")}),(0,ne.jsx)(F.Z,{value:"PRO_RATE_CANCEL_CHARGE",control:(0,ne.jsx)(ue.Z,{}),label:(0,z.Z)("consultant_pro_rate_and_cancellation_charges")})]})]})}),"PRO_RATE_CANCEL_CHARGE"===e.values.refundMethod&&(0,ne.jsxs)(a.ZP,{item:!0,md:4,sm:6,xs:12,children:[(0,ne.jsx)(y.Z,{variant:"body1",className:"mb-2",children:(0,z.Z)("consultant_enter_percentage")}),(0,ne.jsx)(G.Z,{placeholder:"percentage",variant:"outlined",name:"percentage",value:e.values.percentage,onChange:e.handleChange,onBlur:e.handleBlur,inputProps:{type:"number"},InputProps:{endAdornment:(0,ne.jsx)(ce.Z,{position:"end",children:(0,ne.jsx)(ie.Z,{})})},error:!(!e.errors.percentage||!e.touched.percentage),helperText:e.errors.percentage&&e.touched.percentage?e.errors.percentage:null})]})]})}),(0,ne.jsx)(q.Z,{children:(0,ne.jsx)(Z.Z,{variant:"contained",type:"submit",children:(0,z.Z)("common_btn_submit")})})]})}})]})})},he=function(){var e=(0,t.useState)(!1),n=(0,u.Z)(e,2),r=n[0],a=n[1],o=(0,C.I0)(),l=(0,C.v9)((function(e){return e.servicePlan.refundPolicyLoading})),s=(0,C.v9)((function(e){return e.servicePlan.refundPolicy}));return(0,t.useEffect)((function(){o((0,N.dl)())}),[o]),(0,ne.jsx)(ne.Fragment,{children:l?(0,ne.jsx)(j.Z,{}):(0,ne.jsxs)(f.Z,{direction:{xs:"column",sm:"row"},spacing:1,alignItems:"center",justifyContent:"space-between",children:[(0,ne.jsx)(Z.Z,{variant:"outlined",onClick:function(){a(!0)},children:(0,b.isEmpty)(s)?(0,z.Z)("consultant_setup"):"Setup Terms & Policy"}),(0,ne.jsx)(me,{open:r,onClose:function(){a(!1)},type:(0,b.isEmpty)(s)?"add":"edit"})]})})};function xe(){var e=(0,t.useState)(!1),n=(0,u.Z)(e,2),r=n[0],l=n[1],T=(0,t.useState)(!1),R=(0,u.Z)(T,2),S=R[0],q=R[1],A=(0,t.useState)(""),E=(0,u.Z)(A,2),F=E[0],L=E[1],V=(0,t.useState)([]),M=(0,u.Z)(V,2),U=M[0],B=M[1],W=(0,C.I0)(),H=(0,C.v9)((function(e){return e.servicePlan.details})),G=(0,C.v9)((function(e){return e.servicePlan.serviceTypes})),Y=(0,C.v9)((function(e){return e.servicePlan.loading})),J=(0,w.s0)(),K=(0,t.useCallback)((function(){l(!0)}),[]),Q=(0,t.useCallback)((function(){l(!1)}),[]),X=(0,t.useCallback)((function(){q(!0)}),[]),$=(0,t.useCallback)((function(){q(!1)}),[]),ee=(0,b.get)(G,"serviceTypeOnline",!1),re=(0,b.get)(G,"serviceTypeOffline",!1),ae=(0,b.get)(G,"serviceTypePhone",!1),oe=(0,t.useCallback)((function(e){W((0,N.KU)(e)).unwrap().then((function(e){e.status&&(W((0,N.t4)()),P.Am.success(e.message))})).catch((function(e){console.log(" handleAddServicePlan err",e)}))}),[W]),le=(0,t.useCallback)(function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n,r){var t,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(r),t={_id:r,status:n.target.checked},e.next=4,W((0,N.mW)(t)).unwrap().then((function(e){e.status&&(W((0,N.t4)()),P.Am.success(e.message))})).catch((function(e){console.log("Service plan update error=======>",e)}));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),[W]);(0,t.useEffect)((function(){W((0,N.t4)()),W((0,N.cK)())}),[W]);var ie=(0,t.useMemo)((function(){return[{field:"planName",headerName:(0,z.Z)("consultant_service_plan_name"),width:160},{field:"numberOfConsultant",headerName:(0,z.Z)("consultant_number_of_consultation"),width:130,hide:!0},{field:"sessionName",headerName:(0,z.Z)("consultant_consultant_sessions"),width:130,renderCell:function(e){return(0,ne.jsx)(o.Z,{children:(0,ne.jsx)(k.Z,{color:"secondary",children:(0,b.get)(e,"row.sessionName","")})})}},{field:"currency",headerName:(0,z.Z)("consultant_currency_type"),width:130,hide:!0,renderCell:function(e){return(0,ne.jsxs)(y.Z,{variant:"body2",sx:{display:"flex",alignItems:"center"},children:[(0,b.get)(e,"row.currencyId.currency",""),(0,ne.jsx)(y.Z,{variant:"body1",component:"span",ml:.5,children:(0,b.get)(e,"row.currencyId.currencySymbol","")})]})}},{field:"onlineConsultation,offlineConsultation,phoneConsultation",headerName:(0,z.Z)("consultant_consultation_type"),width:130,hide:!0,renderCell:function(e){return(0,ne.jsxs)(f.Z,{direction:"column",spacing:1,children:[(0,ne.jsxs)(f.Z,{direction:"row",spacing:1,children:[(0,b.get)(e,"row.onlineConsultation",!1)&&(0,ne.jsx)(k.Z,{color:"secondary",children:"Online"}),(0,b.get)(e,"row.offlineConsultation",!1)&&(0,ne.jsx)(k.Z,{color:"secondary",children:"Offline"})]}),(0,b.get)(e,"row.phoneConsultation",!1)&&(0,ne.jsx)(k.Z,{color:"secondary",children:"Phone"})]})}},{field:"timeUnit",headerName:(0,z.Z)("consultant_time_duration"),width:130,renderCell:function(e){return(0,ne.jsxs)(y.Z,{variant:"subtitle2",children:[(0,b.get)(e,"row.timeUnit","")," Min"]})}},{field:"dietPlan",headerName:(0,z.Z)("common_diet_plan"),width:130,renderCell:function(e){return(0,ne.jsx)(k.Z,{color:"secondary",variant:"outlined",children:(0,b.get)(e,"row.dietPlan",!1)?"Yes":"No"})}},{field:"amount,currencyId",headerName:(0,z.Z)("common_service_charges"),width:130,renderCell:function(e){return(0,ne.jsxs)(y.Z,{variant:"body2",sx:{display:"flex",alignItems:"center"},children:[(0,b.get)(e,"row.amount",""),(0,ne.jsx)(y.Z,{variant:"body1",component:"span",ml:.5,children:(0,b.get)(e,"row.currencyId.currencySymbol","")})]})}},{field:"view",headerName:(0,z.Z)("common_view"),headerAlign:"center",width:130,renderCell:function(e){return(0,ne.jsx)(g.Z,{onClick:function(){B((0,s.Z)((0,s.Z)({},U),{},{rowData:e.row,formType:"show"})),X()},color:"primary",size:"large",children:(0,ne.jsx)(x.Z,{})})}},{field:"Actions",headerName:(0,z.Z)("common_actions"),headerAlign:"center",width:140,renderCell:function(e){return(0,ne.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,ne.jsx)(g.Z,{sx:{color:"success.dark"},onClick:function(){B((0,s.Z)((0,s.Z)({},U),{},{rowData:e.row,formType:"update"})),K()},children:(0,ne.jsx)(h.Z,{})}),(0,ne.jsx)(v.Z,{checked:(0,b.get)(e,"row.status",!0),onChange:function(n){return le(n,e.row._id)},disabled:F===e.row._id&&Y,inputProps:{"aria-label":"plan-status",role:"switch"}}),(0,ne.jsx)(g.Z,{color:"error",onClick:function(){return oe(e.row._id)},children:(0,ne.jsx)(m.Z,{})})]})}}]}),[U,oe,K,le,X,Y,F]);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(_.Z,{variant:"outlined",className:"h-100 service-plan-design",children:[(0,ne.jsx)(a.ZP,{container:!0,spacing:3,children:(0,ne.jsx)(a.ZP,{item:!0,xs:12,sm:12,style:{display:"flex",marginTop:"20px",marginRight:"20px",marginBottom:"0px",marginLeft:"20px"},children:(0,ne.jsxs)(a.ZP,{item:!0,xs:12,md:12,style:{display:"flex",margin:"0px 5px",justifyContent:"flex-end"},children:[(0,ne.jsx)(he,{}),ee||re||ae?(0,ne.jsx)(Z.Z,{style:{marginLeft:"10px"},variant:"contained",onClick:function(){B((0,s.Z)((0,s.Z)({},U),{},{rowData:[],formType:"create"})),K()},children:(0,z.Z)("consultant_add_service_plan")}):(0,ne.jsx)(Z.Z,{endIcon:(0,ne.jsx)(d.Z,{}),onClick:function(){J("/dashboard/appointment/service-type")},children:(0,z.Z)("consultant_setup")})]})})}),(0,ne.jsx)(p.Z,{children:(0,ne.jsx)(D.Z,{rows:(0,b.isEmpty)(H)?[]:H,columns:ie,getRowId:function(e){return e._id},loading:Y,components:{Toolbar:function(){return(0,ne.jsx)(I.Z,{align:"right",divider:!0,children:ee||re||ae?null:(0,ne.jsx)(Z.Z,{endIcon:(0,ne.jsx)(d.Z,{}),onClick:function(){J("/dashboard/appointment/service-type")},children:(0,z.Z)("consultant_setup")})})},NoRowsOverlay:O.Z,LoadingOverlay:j.Z},className:"min-vh-100"})})]}),(0,ne.jsx)(te,{open:r,onClose:Q,dialogData:U}),(0,ne.jsx)(se,{open:S,onClose:$,dialogData:U})]})}var Ze=function(){return(0,ne.jsx)(ne.Fragment,{children:(0,ne.jsx)(a.ZP,{container:!0,spacing:1,children:(0,ne.jsx)(a.ZP,{item:!0,xs:12,children:(0,ne.jsx)(xe,{})})})})},pe=r(12665),ge=function(){return(0,ne.jsx)(ne.Fragment,{children:(0,ne.jsx)(pe.Z,{title:"Service Plan | InspireMind",children:(0,ne.jsx)(o.Z,{component:"section",className:"w-100",children:(0,ne.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,ne.jsx)(a.ZP,{item:!0,xs:12,children:(0,ne.jsx)(l.Z,{title:"consultant_service_plan",variant:"outlined",elevation:0})}),(0,ne.jsx)(a.ZP,{item:!0,xs:12,children:(0,ne.jsx)(o.Z,{children:(0,ne.jsx)(Ze,{})})})]})})})})}},9557:function(){}}]);
//# sourceMappingURL=636.89f05240.chunk.js.map