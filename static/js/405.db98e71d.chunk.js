"use strict";(self.webpackChunknutrition_ai_consultant=self.webpackChunknutrition_ai_consultant||[]).push([[405],{95405:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(64554),s=t(89164),o=t(61889),i=t(72791),a=t(42686),c=t(39384),u=t(74165),l=t(15861),m=t(29439),d=t(36151),p=t(47071),x=t(20890),h=t(763),f=t(74673),Z=t(70004),g=t(81405),j=t(57689),_=t(75985),y=t(90392),v=t(17811),b=t(62249),k=t(87812),C=t(80066),w=t(95414),A=t(80184),P=function(){var e=(0,i.useState)(""),n=(0,m.Z)(e,2),t=n[0],s=n[1],c=(0,i.useState)(!1),P=(0,m.Z)(c,2),I=P[0],S=P[1],F=(0,g.I0)(),E=(0,j.TH)().state,N=(0,j.s0)(),O=(0,f.Z)(),T=(0,m.Z)(O,2)[1],z=(0,a.xX)().executeRecaptcha,D=(0,g.v9)(b.is);(0,i.useEffect)((function(){null!==(0,h.get)(E,"isOtpVerified",null)&&!0!==(0,h.isEmpty)((0,h.get)(D,"userId",""))||N("/signup")}));var R=function(){var e=(0,l.Z)((0,u.Z)().mark((function e(){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(6!==t.length){e.next=9;break}return S(!1),n={userId:(0,h.get)(D,"userId",""),otp:t},e.next=5,F((0,v.Q8)(n)).unwrap().then((function(e){if((0,h.get)(e,"status",!1)&&""!==(0,h.get)(e,"data.token","")){var n={email:(0,h.get)(D,"email"),token:(0,h.get)(e,"data.token")};T("consultant_data",n,{path:"/",expires:C.aV}),F((0,y.uB)(e.data.token)),F((0,y.nf)(!0)),N("/consultant-info"),s("")}else _.Am.error(e.message)})).catch((function(e){console.log("OTP error=======>",e)}));case 5:return r=e.sent,e.abrupt("return",r);case 9:S(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,l.Z)((0,u.Z)().mark((function e(){var n,t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z){e.next=3;break}return _.Am.error("You are not Authorized"),e.abrupt("return");case 3:return e.next=5,z("yourAction");case 5:return n=e.sent,t={email:(0,h.get)(D,"email",""),googleRecaptchaToken:n},e.next=9,F((0,v.FF)(t)).unwrap().then((function(e){e.status&&_.Am.success(e.message,{position:_.Am.POSITION.TOP_CENTER})})).catch((function(e){console.log("OTP error=======>",e)}));case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(r.Z,{component:"div",className:"h-100",children:(0,A.jsx)(o.ZP,{container:!0,children:(0,A.jsxs)(o.ZP,{item:!0,sm:9,md:10,lg:8,sx:{mx:{md:"0",xs:"auto"}},children:[(0,A.jsx)(x.Z,{variant:"h4",align:"center",mb:2,children:(0,w.Z)("common_otp_verification")}),(0,A.jsxs)(x.Z,{variant:"body1",align:"center",mb:2,children:[(0,w.Z)("common_code_sent_to"),(0,A.jsx)(x.Z,{variant:"body1",color:"primary",component:"span",ml:1,children:D.email})]}),(0,A.jsxs)(o.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,A.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,A.jsx)(Z.Z,{value:t,onChange:function(e){s(e)},numInputs:6,separator:(0,A.jsx)("span",{style:{width:"8px"}}),isInputNum:!0,shouldAutoFocus:!0,className:k.Z.otp_inputs,containerStyle:{alignItems:"center",justifyContent:"center"},hasErrored:I,errorStyle:{color:"#b71c1c",borderColor:"#b71c1c"},inputStyle:{border:"1px solid #CFD3DB",borderRadius:"8px",width:"40px",height:"40px",fontSize:"16px",color:"#777E89",fontWeight:"400",caretColor:"#777E89",margin:"0 auto"},focusStyle:{border:"1px solid #CFD3DB",outline:"none"}}),I&&(0,A.jsx)(p.Z,{error:!0,sx:{textAlign:"center",mt:1},children:(0,w.Z)("common_error_all_fields_are_required")}),(0,A.jsxs)(x.Z,{variant:"body1",align:"center",mt:2,children:[(0,w.Z)("common_didn't_receive_code")," ?",(0,A.jsx)(x.Z,{variant:"body1",color:"primary",component:"span",className:"cursor-pointer",ml:1,onClick:q,children:(0,w.Z)("common_request_again")})]})]}),(0,A.jsx)(o.ZP,{item:!0,xs:12,children:(0,A.jsx)(d.Z,{variant:"contained",fullWidth:!0,type:"submit",onClick:R,children:(0,w.Z)("common_verify_now")})})]})]})})})})},I=function(){return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(r.Z,{component:"section",sx:{py:{sm:6.4,xs:4}},className:"d-flex align-items-center justify-content-center w-100",children:(0,A.jsx)(s.Z,{maxWidth:"xl",children:(0,A.jsxs)(o.ZP,{container:!0,spacing:2,sx:{justifyContent:{md:"space-between",xs:"center"}},column:12,children:[(0,A.jsx)(o.ZP,{item:!0,lg:6,md:6,children:(0,A.jsx)(a.pm,{reCaptchaKey:"6LfakRIiAAAAAOzDSqY5YxucM0LUaQzzp7_e5FSe",children:(0,A.jsx)(P,{})})}),(0,A.jsx)(o.ZP,{item:!0,lg:5,md:6,children:(0,A.jsx)(c.Z,{})})]})})})})}}}]);
//# sourceMappingURL=405.db98e71d.chunk.js.map