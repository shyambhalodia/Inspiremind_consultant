"use strict";(self.webpackChunknutrition_ai_consultant=self.webpackChunknutrition_ai_consultant||[]).push([[285],{95339:function(e,r,n){n(72791);r.Z=n.p+"static/media/forget-password.f970dd1a3fecfa3e5fa23f01b1ad4f8e.svg"},93285:function(e,r,n){n.r(r),n.d(r,{default:function(){return R}});var s=n(64554),o=n(89164),t=n(61889),a=n(72791),i=n(42686),d=n(95339),c=n(1413),l=n(74165),u=n(15861),m=n(29439),p=n(3746),h=n(20165),x=n(68096),f=n(47071),w=n(13400),Z=n(63466),g=n(30829),j=n(77196),_=n(20890),v=n(13967),P=n(92506),b=n(81405),y=n(75985),k=n(81724),C=n(89208),A=n(4240),S=n(763),z=n(74673),B=n(90392),F=n(57689),I=n(80066),W=n(95414),q=n(80184),D=function(){var e=(0,a.useState)(!1),r=(0,m.Z)(e,2),n=r[0],d=r[1],D=(0,a.useState)(!1),R=(0,m.Z)(D,2),T=R[0],Y=R[1],M=(0,b.v9)((function(e){return e.forgetPassword.loading})),O=(0,v.Z)(),V=(0,b.I0)(),E=(0,z.Z)(),H=(0,m.Z)(E,2)[1],L=(0,i.xX)().executeRecaptcha,N=(0,F.s0)(),J=(0,F.TH)().state,K=(0,b.v9)(A.Yu),Q=(0,S.get)(K,"data",[]),U=k.Ry().shape({password:k.Z_().required((0,W.Z)("common_error_password_required")),confirmPassword:k.Z_().oneOf([k.iH("password"),null],(0,W.Z)("common_passwords_must_match")).required((0,W.Z)("common_enter_confirm_password"))}),X=function(){d(!n)},G=function(){Y(!T)},$=function(e){e.preventDefault()};(0,a.useEffect)((function(){null!==(0,S.get)(J,"isPasswordVerified",null)&&!0!==(0,S.isEmpty)((0,S.get)(Q,"email",""))||N("/recover/account")}),[N,J,Q]);var ee=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(r){var n,s,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L){e.next=3;break}return y.Am.error("You are not authorized"),e.abrupt("return");case 3:return e.next=5,L("yourAction");case 5:return n=e.sent,s={otp:Q.otpCode,email:(0,S.get)(Q,"email",""),googleRecaptchaToken:n,password:r.password},e.next=9,V((0,A.oT)(s)).unwrap().then((function(e){if(!0===(0,S.get)(e,"status",!1)&&""!==(0,S.get)(e.data,"token","")){V((0,B.uB)((0,S.get)(e,"data.token","")));var r={email:(0,S.get)(Q,"email"),token:(0,S.get)(e.data,"token")};H("consultant_data",r,{path:"/",expires:I.aV}),y.Am.success(e.message),V((0,B.nf)(!0))}else y.Am.error(e.message)})).catch((function(e){console.log("error OTP verify",e)}));case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(s.Z,{component:"div",sx:{width:"100%"},children:(0,q.jsx)(o.Z,{maxWidth:"xl",children:(0,q.jsx)(P.J9,{initialValues:{password:"",confirmPassword:""},validationSchema:U,onSubmit:function(e){ee(e)},children:function(e){return(0,q.jsx)("form",{onSubmit:e.handleSubmit,children:(0,q.jsx)(t.ZP,{container:!0,children:(0,q.jsxs)(t.ZP,{item:!0,xs:12,sm:12,md:10,lg:8,sx:{mx:{md:"0",xs:"auto"}},children:[(0,q.jsx)(_.Z,{variant:"h2",align:"center",mb:3,children:(0,W.Z)("common_forgot_password")}),(0,q.jsxs)(t.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,q.jsx)(t.ZP,{item:!0,xs:12,children:(0,q.jsxs)(x.Z,{variant:"outlined",fullWidth:!0,sx:(0,c.Z)({},O.typography.customInput),children:[(0,q.jsx)(g.Z,{error:e.errors.password&&e.touched.password,htmlFor:"outlined-adornment-password",children:(0,W.Z)("common_password")}),(0,q.jsx)(j.Z,{id:"outlined-adornment-password",label:(0,W.Z)("common_password"),type:n?"text":"password",name:"password",value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur,size:"small",endAdornment:(0,q.jsx)(Z.Z,{position:"end",children:(0,q.jsx)(w.Z,{"aria-label":"toggle password visibility",onClick:X,onMouseDown:$,edge:"end",children:n?(0,q.jsx)(h.Z,{}):(0,q.jsx)(p.Z,{})})}),error:!(!e.errors.password||!e.touched.password)}),e.errors.password&&e.touched.password&&(0,q.jsx)(f.Z,{error:!0,id:"outlined-adornment-password",children:e.errors.password})]})}),(0,q.jsx)(t.ZP,{item:!0,xs:12,children:(0,q.jsxs)(x.Z,{variant:"outlined",fullWidth:!0,sx:(0,c.Z)({},O.typography.customInput),children:[(0,q.jsx)(g.Z,{error:e.errors.confirmPassword&&e.touched.confirmPassword,htmlFor:"outlined-adornment-confirm-password",children:(0,W.Z)("common_confirm_password")}),(0,q.jsx)(j.Z,{id:"outlined-adornment-confirm-password",label:(0,W.Z)("common_confirm_password"),type:T?"text":"password",name:"confirmPassword",value:e.values.confirmPassword,onChange:e.handleChange,onBlur:e.handleBlur,size:"small",endAdornment:(0,q.jsx)(Z.Z,{position:"end",children:(0,q.jsx)(w.Z,{"aria-label":"toggle password visibility",onClick:G,onMouseDown:$,edge:"end",children:T?(0,q.jsx)(h.Z,{}):(0,q.jsx)(p.Z,{})})}),error:!(!e.errors.confirmPassword||!e.touched.confirmPassword)}),e.errors.confirmPassword&&e.touched.confirmPassword&&(0,q.jsx)(f.Z,{error:!0,id:"outlined-adornment-confirm-password",children:e.errors.confirmPassword})]})}),(0,q.jsx)(t.ZP,{item:!0,xs:12,children:(0,q.jsx)(C.Z,{variant:"contained",fullWidth:!0,type:"submit",loading:e.isSubmitting&&M,disabled:e.isSubmitting&&M,children:(0,W.Z)("common_change_password")})})]})]})})})}})})})})},R=function(){return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(s.Z,{component:"section",sx:{py:{sm:6.4,xs:4}},className:"d-flex align-items-center justify-content-center w-100",children:(0,q.jsx)(o.Z,{maxWidth:"xl",children:(0,q.jsxs)(t.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,q.jsx)(t.ZP,{item:!0,xs:12,sm:8,md:7,xl:6,children:(0,q.jsx)(i.pm,{reCaptchaKey:"6LfakRIiAAAAAOzDSqY5YxucM0LUaQzzp7_e5FSe",children:(0,q.jsx)(D,{})})}),(0,q.jsx)(t.ZP,{item:!0,xs:12,sm:8,md:5,lg:5,xl:4,children:(0,q.jsx)(s.Z,{component:"img",src:d.Z,className:"img-fluid"})})]})})})})}}}]);
//# sourceMappingURL=285.9177676c.chunk.js.map