"use strict";(self.webpackChunknutrition_ai_consultant=self.webpackChunknutrition_ai_consultant||[]).push([[342],{54342:function(e,n,r){r.r(n),r.d(n,{default:function(){return re}});var t=r(64554),o=r(89164),a=r(61889),s=r(72791),i=r(42686),c=r(1413),u=r(74165),l=r(15861),d=r(29439),m=r(3746),p=r(20165),h=r(39504),f=r(94454),x=r(68096),g=r(85523),Z=r(79012),_=r(47071),b=r(13400),j=r(63466),v=r(30829),w=r(77196),k=r(35527),y=r(36314),C=r(13967),A=r(48550),S=r(20890),I=r(21795),L=r(763),N=r(74673),P=r(81405),F=r(57689),R=r(11087),q=r(75985),Y=r(81724),z=r(90392),M=r(95113),V=r(80066),B=r(95414),U=r(89208),O=r(66934),D=r(12065),T=r(92827),W=r(20929),X=r(151),E=r(87812),G=r(80184),J=(0,O.ZP)(b.Z)((function(e){var n=e.theme;return{border:"1px solid ".concat((0,D.Fq)(n.palette.grey[400],.3))}})),K=function(){var e="1037386275248-r06qjdrbebf3k49hl5n4bs63rskmrrel.apps.googleusercontent.com",n=(0,F.s0)(),r=(0,P.I0)(),t=((0,P.v9)((function(e){return e.signin.loading})),(0,P.v9)((function(e){return e.auth.isLoggedIn})));console.log(t,"signin");var o=(0,N.Z)(),a=(0,d.Z)(o,2)[1],c=(0,i.xX)().executeRecaptcha;(0,s.useEffect)((function(){T.MN.load("client:auth2",(function(){T.MN.client.init({clientId:e,scope:"openid profile email"})}))}),[e]);var m=function(e){console.log(e,"googleData"),p(e)},p=function(){var e=(0,l.Z)((0,u.Z)().mark((function e(t){var o,s,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=3;break}return q.Am.error("You are not authorized"),e.abrupt("return");case 3:return e.next=5,c("yourAction");case 5:return o=e.sent,s={email:t.profileObj.email,firstName:t.profileObj.givenName,lastName:t.profileObj.familyName,profilePictureURL:t.profileObj.imageUrl,googleRecaptchaToken:o,provider:t.tokenObj.idpId,password:""},e.next=9,r((0,M.Yo)(s)).unwrap().then(function(){var e=(0,l.Z)((0,u.Z)().mark((function e(t){var o;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.status||""===(0,L.get)(t,"data.token","")){e.next=11;break}return o={token:t.data.token},a("consultant_data",o,{path:"/",expires:V.aV}),e.next=5,r((0,z.L_)()).unwrap().then((function(e){e.status&&a("isSignupCompleted",(0,L.get)(e,"data.termsAndCondition",!1),{path:"/",expires:V.aV})})).catch((function(e){console.log("me error=======>",e)}));case 5:r((0,z.uB)(t.data.token)),r((0,z.nf)(!0)),q.Am.success(t.message),n("/dashboard"),e.next=12;break;case 11:q.Am.error(t.message);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("signin error========>",e)}));case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(W.GoogleLogin,{clientId:"1037386275248-r06qjdrbebf3k49hl5n4bs63rskmrrel.apps.googleusercontent.com",onSuccess:m,onFailure:m,isSignedIn:t,autoLoad:!1,render:function(e){return(0,G.jsx)(J,{onClick:e.onClick,children:(0,G.jsx)(X._8,{className:E.Z.social_icon_btn})})},cookiePolicy:"single_host_origin",scope:"profile email"})})},Q=r(6132),H=r.n(Q),$=(0,O.ZP)(b.Z)((function(e){var n=e.theme;return{border:"1px solid ".concat((0,D.Fq)(n.palette.grey[400],.3))}})),ee=function(){var e=(0,i.xX)().executeRecaptcha,n=(0,N.Z)(),r=(0,d.Z)(n,2)[1],t=(0,P.I0)(),o=(0,F.s0)(),a=function(){var n=(0,l.Z)((0,u.Z)().mark((function n(r){return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(r,"response"),e){n.next=4;break}return q.Am.error("You are not authorized"),n.abrupt("return");case 4:s(r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,l.Z)((0,u.Z)().mark((function n(a){var s,i,c;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=3;break}return q.Am.error("You are not authorized"),n.abrupt("return");case 3:return n.next=5,e("yourAction");case 5:return s=n.sent,i={email:a.email,firstName:a.name,lastName:"",profilePictureURL:a.picture.data.url,googleRecaptchaToken:s,provider:a.graphDomain,password:""},n.next=9,t((0,M.Yo)(i)).unwrap().then(function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n){var a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.status||""===(0,L.get)(n,"data.token","")){e.next=11;break}return a={token:n.data.token},r("consultant_data",a,{path:"/",expires:V.aV}),e.next=5,t((0,z.L_)()).unwrap().then((function(e){e.status&&r("isSignupCompleted",(0,L.get)(e,"data.termsAndCondition",!1),{path:"/",expires:V.aV})})).catch((function(e){console.log("me error=======>",e)}));case 5:t((0,z.uB)(n.data.token)),t((0,z.nf)(!0)),q.Am.success(n.message),o("/dashboard"),e.next=12;break;case 11:q.Am.error(n.message);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("signin error========>",e)}));case 9:return c=n.sent,n.abrupt("return",c);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(H(),{appId:415907740177970,fields:"name,email,picture",scope:"public_profile,email",render:function(e){return(0,G.jsx)($,{onClick:e.onClick,children:(0,G.jsx)(X.Vr,{className:E.Z.social_icon_btn})})},callback:a,onFailure:function(e){console.log("facebook Error",e)}})})},ne=function(){var e=(0,s.useState)(!1),n=(0,d.Z)(e,2),r=n[0],o=n[1],O=(0,P.v9)((function(e){return e.signin.loading})),D=(0,N.Z)(),T=(0,d.Z)(D,2)[1],W=(0,i.xX)().executeRecaptcha,X=(0,F.s0)(),E=(0,P.I0)(),J=(0,C.Z)(),Q=Y.Ry().shape({email:Y.Z_().email((0,B.Z)("common_error_email_valid_email")).required((0,B.Z)("common_error_email_required")),password:Y.Z_().min(6,(0,B.Z)("common_error_password_too_short_min_6_length")).max(18,(0,B.Z)("common_error_password_too_long_max_18_length")).required((0,B.Z)("common_error_password_required"))}),H=(0,V.AU)("remember_me"),$=function(){o(!r)},ne=function(e){e.preventDefault()},re=function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n){var r,t,o;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W){e.next=3;break}return q.Am.error("You are not authorized"),e.abrupt("return");case 3:return e.next=5,W("yourAction");case 5:return r=e.sent,t={email:n.email,password:n.password,googleRecaptchaToken:r},e.next=9,E((0,M.Yo)(t)).unwrap().then(function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.status||""===(0,L.get)(n,"data.token","")){e.next=11;break}return r={token:n.data.token},T("consultant_data",r,{path:"/",expires:V.aV}),e.next=5,E((0,z.L_)()).unwrap().then((function(e){e.status&&T("isSignupCompleted",(0,L.get)(e,"data.termsAndCondition",!1),{path:"/",expires:V.aV})})).catch((function(e){console.log("me error=======>",e)}));case 5:E((0,z.uB)(n.data.token)),E((0,z.nf)(!0)),q.Am.success(n.message),X("/dashboard"),e.next=12;break;case 11:q.Am.error(n.message);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("signin error========>",e)}));case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(k.Z,{variant:"outlined",children:(0,G.jsx)(h.Z,{children:(0,G.jsx)(I.J9,{initialValues:{email:(0,L.get)(H,"email",""),password:"",rememberMe:!1},validationSchema:Q,onSubmit:function(e){if(re(e),e.rememberMe){var n={email:e.email};(0,V.Lz)("remember_me",n)}},children:function(e){return(0,G.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,G.jsx)(S.Z,{variant:"h4",align:"center",mb:3,children:(0,B.Z)("consultant_get_ready_to_login")}),(0,G.jsxs)(y.Z,{direction:"row",spacing:3,justifyContent:"center",mb:3,children:[(0,G.jsx)(K,{}),(0,G.jsx)(ee,{})]}),(0,G.jsxs)(a.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,G.jsx)(a.ZP,{item:!0,xs:12,children:(0,G.jsx)(A.Z,{label:(0,B.Z)("common_email"),name:"email",value:e.values.email,onChange:e.handleChange,onBlur:e.handleBlur,error:!(!e.errors.email||!e.touched.email),helperText:e.errors.email&&e.touched.email?e.errors.email:null})}),(0,G.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,G.jsxs)(x.Z,{variant:"outlined",fullWidth:!0,sx:(0,c.Z)({},J.typography.customInput),children:[(0,G.jsx)(v.Z,{error:e.errors.password&&e.touched.password,htmlFor:"outlined-adornment-password",children:(0,B.Z)("common_password")}),(0,G.jsx)(w.Z,{id:"outlined-adornment-password",label:(0,B.Z)("common_password"),type:r?"text":"password",name:"password",value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur,endAdornment:(0,G.jsx)(j.Z,{position:"end",children:(0,G.jsx)(b.Z,{"aria-label":"toggle password visibility",onClick:$,onMouseDown:ne,edge:"end",children:r?(0,G.jsx)(p.Z,{}):(0,G.jsx)(m.Z,{})})}),error:!(!e.errors.password||!e.touched.password)}),e.errors.password&&e.touched.password&&(0,G.jsx)(_.Z,{error:!0,id:"outlined-adornment-password",children:e.errors.password})]}),(0,G.jsxs)(y.Z,{direction:{xs:"column",sm:"row"},alignItems:{xs:"start",sm:"center"},justifyContent:{xs:"center",sm:"space-between"},sx:{width:"100%"},children:[(0,G.jsx)(t.Z,{component:"div",children:(0,G.jsx)(Z.Z,{children:(0,G.jsx)(g.Z,{control:(0,G.jsx)(f.Z,{name:"rememberMe",value:e.values.rememberMe,onChange:e.handleChange}),label:(0,B.Z)("common_remember_me")+" ?"})})}),(0,G.jsx)(t.Z,{component:"div",children:(0,G.jsxs)(R.rU,{to:"/recover/account",children:[(0,B.Z)("common_forgot_password")," ?"]})})]})]}),(0,G.jsx)(a.ZP,{item:!0,xs:12,children:(0,G.jsx)(U.Z,{variant:"contained",fullWidth:!0,type:"submit",loading:e.isSubmitting&&O,disabled:e.isSubmitting&&O,children:(0,B.Z)("common_sign_in")})}),(0,G.jsxs)(S.Z,{variant:"body1",mt:2,children:[(0,B.Z)("common_dont_have_an_account")," ?"," ",(0,G.jsx)(R.rU,{to:"/signup",children:(0,B.Z)("common_sign_up")})]})]})]})}})})})})},re=function(){return(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(t.Z,{component:"section",sx:{py:{sm:6.4,xs:4}},className:"d-flex align-items-center justify-content-center w-100",children:(0,G.jsx)(o.Z,{maxWidth:"xl",children:(0,G.jsx)(a.ZP,{container:!0,spacing:2,justifyContent:"center",children:(0,G.jsx)(a.ZP,{item:!0,xs:12,sm:8,md:6,lg:5,xl:4,children:(0,G.jsx)(i.pm,{reCaptchaKey:"6LfakRIiAAAAAOzDSqY5YxucM0LUaQzzp7_e5FSe",children:(0,G.jsx)(ne,{})})})})})})})}}}]);
//# sourceMappingURL=342.99d96c8d.chunk.js.map